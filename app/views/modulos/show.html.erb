<div class="card">

	<div class="card-header"><%= @modulo.nome %>
		<% if can? :edit, Modulo %>
			<%= link_to '', edit_modulo_path(@modulo), class: "fa fa-edit text-white" %>
		<% end %>
		<% if can? :destroy, Modulo %>
			<%= link_to '', @modulo, method: :delete, data: { confirm: 'Deseja realmente excluir o Conteúdo?' }, class: "fa fa-trash text-white" %>
		<% end %>
	</div>
  
	<ul class="list-group">
		<% if @modulo.descricao? %>
			<li class="list-group-item"><b>Descrição:</b> <%= @modulo.descricao %></li>
		<% end %>
		<% if can? :edit, Modulo %>
		<li class="list-group-item"><b>Público:</b> <%= @modulo.publico? ? 'Sim' : 'Não' %></li>  
		<li class="list-group-item"><b>Cadastrado em:</b> <%= @modulo.created_at.strftime("%d/%m/%Y - %H:%M:%S") %></li>  
		<li class="list-group-item"><b>Curso:</b> <%= @modulo.curso.nome %></li>      
		<% end %>
	</ul>

	<br>


	<% if not @materiais.empty? %>

        <div class="card-header">Materiais do Módulo</div>

        <div class="table-responsive">
	      <table class="table table-striped table-sm">
	        <thead>
	          <tr>
	            <th class="text-center">Nome</th>
	            <th class="text-center">Tipo</th>
	          </tr>
	        </thead>
	        <tbody>
	          <% @materiais.each do |material| %>
		          <% if material.publico? or @perfil.perfil != 'Aluno' %>
		            <tr>
		              	<td><%= link_to publico(material), material %></td>
		            	<td><%= material.tipo %></td>
		            </tr>
	            <% end %>
	          <% end %>
	        </tbody>
	      </table>
	    </div>
	    
    <% end %>

	<% if not @missoes.empty? %>

		<div class="card-header">Missões do Módulo</div>

		<div class="table-responsive">
	      <table class="table table-striped table-sm">
	        <thead>
	          <tr>
	            <th class="text-center">Nome</th>
	            <th class="text-center">Tipo</th>
	          </tr>
	        </thead>
	        <tbody>
	          <% @missoes.each do |missao| %>
	          	<% if missao.publico? or @perfil.perfil != 'Aluno' %>
		            <tr>
		            	<td><%= link_to publica(missao), missao %></td>
		              <td><%= missao.tipo %></td>
		            </tr>
		        <% end %>
	          <% end %>
	        </tbody>
	      </table>
	    </div>

    <% end %>

	<% if not @explicacoes.empty? %>

        <div class="card-header">Explicações do Módulo</div>

        <div class="table-responsive">
	      <table class="table table-striped table-sm">
	        <thead>
	          <tr>
	            <th class="text-center">Nome</th>
	          </tr>
	        </thead>
	        <tbody>
	          <% @explicacoes.each do |explicacao| %>
	            <tr>
	              <td><%= link_to explicacao.nome, explicacao %></td>
	            </tr>
	          <% end %>
	        </tbody>
	      </table>
	    </div>

    <% end %>

	
	<div class="card-footer text-muted">
      	<% if can? :new, Missao %>
	  		<%= link_to  'Inserir Missão', {controller: 'missoes', action: 'new', modulo_id: @modulo.id}, class: "btn btn-md btn-danger" %>
	  	<% end %>
		<% if can? :new, Explicacao %>
	  		<%= link_to  'Inserir Explicação', {controller: 'explicacoes', action: 'new', modulo_id: @modulo.id}, class: "btn btn-md btn-danger" %>
	  	<% end %>	  	
	</div>

</div>